<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: python | shigeponが関心のある技術情報など]]></title>
  <link href="http://blog.shigepon.info/blog/categories/python/atom.xml" rel="self"/>
  <link href="http://blog.shigepon.info/"/>
  <updated>2015-08-25T20:53:26+09:00</updated>
  <id>http://blog.shigepon.info/</id>
  <author>
    <name><![CDATA[shigepon]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Django 1.7から1.8にアップデートしてみた]]></title>
    <link href="http://blog.shigepon.info/blog/2015/08/25/migrate-from-django-1-dot-7-to-1-dot-8/"/>
    <updated>2015-08-25T15:39:02+09:00</updated>
    <id>http://blog.shigepon.info/blog/2015/08/25/migrate-from-django-1-dot-7-to-1-dot-8</id>
    <content type="html"><![CDATA[<p><a href="http://blog.shigepon.info/blog/2015/03/09/migrate-from-django-1-dot-6-to-1-dot-7/">1.6の時</a>と同様にpipでアップデートした。</p>

<h2>注意点</h2>

<p>個人的に作っているアプリでアップデートした際にコード変更が必要だった点は以下の通り。他にも色々使えなくなった命令とかあるみたいだけど引っ掛からなかったので省略。詳しくは<a href="https://docs.djangoproject.com/en/1.8/releases/1.8/#features-removed-in-1-8">Django 1.8 release notes | Django documentation | Django</a>で見ることが出来る。</p>

<h3>urls.pyで指定するnamespace</h3>

<p>urls.pyでapp_nameを指定した場合に必ずnamespaceを指定する必要があるようになった。</p>

<p><code>py urls.py
url(r'^', include('hoge.urls',app_name='hoge')),#これはダメ
url(r'^', include('hoge.urls',app_name='hoge',namespace='hoge')),#これはOK
</code></p>

<p>ダメなコード実装してた場合は、reverseでurlを作ってる箇所にも修正が必要になる。</p>

<h3>transactionについて</h3>

<p><code>py
transaction.commit_unless_managed()
</code></p>

<p>みたいなメソッドが無くなってた。</p>

<h2>嬉しい点</h2>

<p>色々あるみたいだけど、PostgreSQLを使っているので、特にPostgreSQL使ってる場合に、独自のフィールドを使えるようになった点が嬉しい。ArrayFieldとか、わざわざリレーション作りたくない時とか便利そう。</p>

<p><a href="https://docs.djangoproject.com/en/1.8/ref/contrib/postgres/fields/">Djangoドキュメントによる説明</a></p>
]]></content>
  </entry>
  
</feed>
