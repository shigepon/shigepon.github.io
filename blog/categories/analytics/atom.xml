<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Analytics | shigeponが関心のある技術情報など]]></title>
  <link href="http://blog.shigepon.info/blog/categories/analytics/atom.xml" rel="self"/>
  <link href="http://blog.shigepon.info/"/>
  <updated>2016-02-29T12:00:56+09:00</updated>
  <id>http://blog.shigepon.info/</id>
  <author>
    <name><![CDATA[shigepon]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Google Tag Managerを使ってボタンのクリックを検出する]]></title>
    <link href="http://blog.shigepon.info/blog/2016/01/06/track-button-click-at-google-tag-manager/"/>
    <updated>2016-01-06T11:43:41+09:00</updated>
    <id>http://blog.shigepon.info/blog/2016/01/06/track-button-click-at-google-tag-manager</id>
    <content type="html"><![CDATA[<p>Google Tag Manager(多分現在はバージョン2)を使ってリンクのクリックをAnalyticsに検出させる方法はちょこちょこ書いてあるけど、ボタンのクリックを検出する方法が書いてなかったのでメモ。例としてIDがhogeのボタンクリックを検出してみる</p>

<h2>変数の設定</h2>

<p>google tag managerのコンテナ画面で、左サイドメニューの「変数」をクリックすると「クリック」という項目が色々ある。初期ではチェックが外れている。これを全てチェックしておく（実際はID指定でクリックを検出したいならClick IDをチェックすれば良いとかあるけど全部チェックしておくと無難）</p>

<h2>トリガー作成</h2>

<p>同じく左サイドメニューの「トリガー」をクリックする。「新規」ボタンを押してトリガーを新規作成する。そこからは下のようにする</p>

<ul>
<li>1.イベントを選択→クリック</li>
<li>2.トリガーを設定、ターゲット→すべての要素→続行をクリック</li>
<li>3.配信するタイミング→一部のクリック→Click ID、等しいの順に選択→hogeと入力→トリガーを作成ボタンをクリック</li>
<li>名前を聞かれるので分かる名前にする。例としてfugaとしておく</li>
</ul>


<h2>タグ作成</h2>

<p>同じく左サイドメニューの「タグ」をクリックする。「新規」ボタンを押してタグを新規作成する。そこからは下のようにする</p>

<ul>
<li>1.プロダクトを選択→GoogleAnalytics</li>
<li>2.タグの種類を選択→ユニバーサル　アナリティクス</li>
<li>3.タグを設定→下のように設定して続行ボタンをクリック

<ul>
<li>トラッキングID→AnalyticsのトラッキングID（UA-xxxx-xxxxxみたいな）</li>
<li>ディスプレイ広告向け機能を有効にする→どっちでも</li>
<li>トラッキングタイプ→イベント</li>
<li>カテゴリ→適当（Buttonとかで良い？）</li>
<li>アクション→適当（clickとか？）</li>
<li>ラベル→適当（hogeとか？）</li>
<li>その他はそのまま</li>
</ul>
</li>
<li>4.配信するタイミング→クリック

<ul>
<li>「既存のクリック　トリガーから選択」が出てくるので作ったトリガーをチェック→「保存」ボタンをクリック</li>
</ul>
</li>
<li>「タグを作成」ボタンをクリック</li>
</ul>


<h2>プレビュー</h2>

<p>まだ良く分かってない。作った設定を当てはめる前にチェックが出来るらしい。</p>

<h2>公開</h2>

<p>右上の「公開」ボタンをクリックして出てくるダイアログで「今すぐ公開」をクリックすると作った設定を当てはめることが出来る。</p>

<h2>確認</h2>

<p>Chromeなら<a href="https://chrome.google.com/webstore/detail/tag-assistant-by-google/kejbdjndbnbjgmefkgdddjlbokphdefk">Tag Assistant</a>って拡張があるのでこれをインストールして確認する。実際にクリックしてみてAnalyticsで検出を確認するのでもおk</p>

<p>参考：<a href="http://konygin.net/gtm/tracking-buttons-en/">Buttons tracking at Google Tag Manager 2.0</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Google Analyticsからbotアクセスを取り除く]]></title>
    <link href="http://blog.shigepon.info/blog/2014/03/09/how-to-block-bot-access-from-google-analytics/"/>
    <updated>2014-03-09T21:53:40+09:00</updated>
    <id>http://blog.shigepon.info/blog/2014/03/09/how-to-block-bot-access-from-google-analytics</id>
    <content type="html"><![CDATA[<p>参考ページ<a href="http://www.lunametrics.com/blog/2013/09/05/filter-bots-google-analytics/#sr=d&amp;m=n&amp;cp=d&amp;ct=-tmc&amp;ts=1394369739">How to Block Bots from Your Google Analytics</a></p>

<p>ここ数日Google Analyticsにアメリカからリファラ無し直帰率100%近くのアクセスを大量に発見。
どう考えてもbotですどうも(ry
本当はGoogle Analyticsに自動でフィルタして欲しいけど、どうもフィルタしてないので、自力でフィルタ設定しないといけないみたい。</p>

<p>上のリンクを参考に設定してみる</p>

<ul>
<li>アナリティクス設定→ ビュー→フィルタと移動</li>
<li>「新しいボタン」をクリック</li>
</ul>


<h3>設定は以下の通り</h3>

<!-- more -->


<ul>
<li>新しいフィルタを作成</li>
<li>フィルタ名：適当（Smart Bot 除外）とか？</li>
<li>フィルタの種類：カスタムフィルタ</li>
<li>除外</li>
<li>フィルタフィールド：ISPドメインからのトラフィック</li>
<li>フィルタパターン：<sup>microsoft corp(oration)?|inktomi corporation|yahoo! inc.|google inc.|stumbleupon inc.</sup>$|gomez</li>
<li>大文字小文字を区別：いいえ</li>
</ul>


<!-- more -->


<ul>
<li>「保存」をクリック</li>
</ul>


<p>これでフィルタできるけど、フィルタをかける以前の情報には反映しない。
参考ページに設定テンプレートがあったのでここでもリンクしておく
<a href="https://www.google.com/analytics/web/template?uid=svscm2YdTe6s0yJeGHQM4Q">Smart Botを除外するテンプレート</a></p>
]]></content>
  </entry>
  
</feed>
