<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: postgresql | My Octopress Blog]]></title>
  <link href="http://shigepon.github.io/blog/categories/postgresql/atom.xml" rel="self"/>
  <link href="http://shigepon.github.io/"/>
  <updated>2014-01-28T22:55:21+09:00</updated>
  <id>http://shigepon.github.io/</id>
  <author>
    <name><![CDATA[shigepon]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[PostgreSQLメモ]]></title>
    <link href="http://shigepon.github.io/blog/2014/01/28/postgresql/"/>
    <updated>2014-01-28T21:24:42+09:00</updated>
    <id>http://shigepon.github.io/blog/2014/01/28/postgresql</id>
    <content type="html"><![CDATA[<p>rhaco2をPostgreSQL8.3で使えるように色々調べていくうちに学んだメモ。</p>

<h3>insert時に「デフォルト値を入れる」だけの処理をしたい場合</h3>

<p><code>
insert into テーブル名 default value;
</code></p>

<p>でOK</p>

<h3>integerのカラムとかにlikeを適用したい場合</h3>

<p><code>
select * from テーブル名 where id::text like &amp;#039;%abc%&amp;#039;;
</code></p>

<p>のようにカラムをテキストにキャストする。MySQLのvarcharをselectする時はデフォルトignore case。ついでにtrimも勝手にかける？らしい</p>

<h3>show column</h3>

<p>Mysqlで使えるshow columnは無いが、information_schemaの情報をselectすることで同じようなことが出来る。
ただし、create table時にserialで指定してもinformation_schema.columnsから取得できるカラム情報はinteger(int4)のみ。
なのでserialと判定するにはカラムがintegerであり、かつデフォルト値としてnextvalが指定されていることなど、複合的にチェックする必要がある。</p>
]]></content>
  </entry>
  
</feed>
